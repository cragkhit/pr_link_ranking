<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PR Link Ranking - Groundtruth Data Builder</title>
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>PR Link Ranking - Groundtruth Data Builder</h1>
            <p>Build groundtruth data for pull request link ranking algorithm</p>
        </header>

        <!-- Load Data Section -->
        <div id="load-section" class="section">
            <h2>1. Load Data</h2>
            <div class="load-options">
                <div class="load-option">
                    <h3>Upload CSV File</h3>
                    <p class="help-text">CSV format: pr_id, pr_title, pr_url, link_url, link_text</p>
                    <input type="file" id="file-input" accept=".csv">
                    <button id="load-button" class="btn btn-primary">Load CSV</button>
                </div>
                <div class="load-option">
                    <h3>Upload Ranking CSV</h3>
                    <p class="help-text">Upload a ranking CSV file with pre-populated ranks</p>
                    <input type="file" id="ranking-file-input" accept=".csv">
                    <button id="load-ranking-button" class="btn btn-secondary">Load Ranking CSV</button>
                </div>
            </div>
            <div id="load-status" class="status-message"></div>
        </div>

        <!-- PR List Section -->
        <div id="pr-list-section" class="section hidden">
            <h2>2. Review Pull Requests</h2>
            <div id="pr-stats" class="stats"></div>
            <div id="pr-list" class="pr-list"></div>
        </div>

        <!-- PR Detail Section -->
        <div id="pr-detail-section" class="section hidden">
            <button id="back-button" class="btn btn-secondary">← Back to PR List</button>
            <div id="pr-detail"></div>
        </div>

        <!-- Links View Section -->
        <div id="links-view-section" class="section hidden">
            <button id="back-to-list-button" class="btn btn-secondary">← Back to PR List</button>
            <div id="links-view"></div>
        </div>

        <!-- Export Section -->
        <div id="export-section" class="section hidden">
            <h2>3. Export Results</h2>
            <div class="export-buttons">
                <button id="export-csv-button" class="btn btn-primary">Export as CSV</button>
                <button id="export-json-button" class="btn btn-primary">Export as JSON</button>
                <button id="export-final-report-button" class="btn btn-primary">Final Report</button>
            </div>
        </div>
    </div>

    <script src="/static/js/app.js"></script>
</body>
</html>
